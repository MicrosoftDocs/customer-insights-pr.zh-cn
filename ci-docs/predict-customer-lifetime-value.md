---
title: 预计客户生存期值 (CLV)
description: 预测未来活跃客户的潜在收入。
ms.date: 09/30/2022
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: how-to
author: m-hartmann
ms.author: wameng
manager: shellyha
searchScope:
- ci-predictions
- ci-create-prediction
- ci-custom-models
- customerInsights
ms.openlocfilehash: f27462ac327027e50e23387ac9f75a671db9a86d
ms.sourcegitcommit: be341cb69329e507f527409ac4636c18742777d2
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/30/2022
ms.locfileid: "9610363"
---
# <a name="predict-customer-lifetime-value-clv"></a>预计客户生存期值 (CLV)

预测单个活跃客户将在定义的未来时间段内为您的公司带来的潜在价值（收入）。 此预测可以帮助您：

- 识别高价值客户并处理此见解。
- 根据潜在客户价值创建战略客户细分，以通过有针对性的销售、市场营销和支持工作开展个性化市场活动。
- 通过关注增加客户价值的功能来指导产品开发。
- 优化销售或营销策略并更准确地分配预算以进行客户拓展。
- 通过忠诚度或奖励计划表彰和奖励高价值客户。

确定 CLV 对您的业务意味着什么。 我们支持基于交易的 CLV 预测。 预测的客户价值基于业务交易的历史记录。 考虑创建具有不同输入首选项的多个模型，并比较模型结果，以查看哪种模型方案最能够满足您的业务需要。

> [!TIP]
> 尝试使用示例数据进行 CLV 预测：[客户生命周期值 (CLV) 预测示例指南](sample-guide-predict-clv.md)。

## <a name="prerequisites"></a>先决条件

- 至少具有[参与者](permissions.md)权限
- 至少 100 个唯一客户，最好是超过 10,000 个客户
- 客户标识符，用于将交易与单个客户匹配的唯一标识符
- 至少有一年的交易历史记录，最好是两到三年。 理想情况下，每个客户 ID 至少有两到三个交易，最好是跨越多个日期。 交易历史记录必须包括：
  - **交易 ID**：每个交易的唯一标识符
  - **交易日期**：每个交易的日期或时间戳
  - **交易金额**：每个交易的货币价值（如收入或利润）
  - **分配给退货的标签**：用于表示交易是否为退货交易的布尔值 true/false
  - **产品 ID**：交易涉及的产品的产品 ID
- 有关客户活动的数据：
  - **主键**：活动的唯一标识符
  - **时间戳**：主键所标识事件的日期和时间
  - **事件（活动名称）**：要使用的事件名称
  - **详细信息（金额或值）**：有关客户活动的详细信息
- 其他数据，如：
  - Web 活动：网站访问历史记录或电子邮件历史记录
  - 忠诚度活动：忠诚度奖励积分累积和兑换历史记录
  - 客户服务日志：服务联络、投诉或退货历史记录
  - 客户配置文件信息
- 必填字段中缺少的值少于 20%

> [!NOTE]
> 只能配置一个交易历史记录实体。 如果有多个购买或交易实体，在数据引入之前将它们合并到 Power Query 中。

## <a name="create-a-customer-lifetime-value-prediction"></a>创建客户生存期值预测

随时选择 **保存草稿**，将预测保存为草稿。 草稿预测将显示在 **我的预测** 选项卡中。

1. 转到 **智能** > **预测**。

1. 在 **创建** 选项卡上，在 **客户生存期值** 磁贴上选择 **使用模型**。

1. 选择 **开始**。

1. 用于与其他模型或实体区分开来的 **为此模型命名** 和 **输出实体名称**。

1. 选择 **下一步**。

### <a name="define-model-preferences"></a>定义模型首选项

1. 设置 **预测时间段**，以定义要预测 CLV 的未来时长。 默认情况下，单位设置为月。

   > [!TIP]
   > 若要准确预测所设置的时间段的 CLV，需要一个相似的历史数据期间。 例如，如果您希望预测未来 12 个月的 CLV，至少应具有 18 – 24 个月的历史数据。

1. 设置期限，在该期限内，客户必须至少有一笔交易被视为处于活动状态。 此模型只预测 **活跃客户** 的 CLV。
   - **让模型计算购买间隔（推荐）**：模型将分析您的数据，并根据过去的购买数据来确定时间段。
   - **手动设置间隔**：定义活跃客户的时间段。

1. 定义 **高价值客户** 的百分位数。
    - **模型计算（推荐）**：模型使用 80/20 规则。 历史期间内为您的业务贡献了 80% 的累积收入的那部分客户被认为是高价值客户。 通常，不到 30-40% 的客户将贡献 80% 的累积收入。 不过，此数字可能会因您的业务和行业而异。
    - **排名靠前的活跃客户所占百分比**：高价值客户的特定百分位数。 例如，输入 **25** 将高价值客户定义为前 25% 的未来付费客户。

    如果您的公司以不同方式定义高价值客户，[请告诉我们，因为我们很想知道](https://go.microsoft.com/fwlink/?linkid=2074172)。

1. 选择 **下一步**。

### <a name="add-required-data"></a>添加所需数据

1. 为 **客户交易历史记录** 选择 **添加数据**。

1. 选择包含交易历史记录的语义活动类型 **SalesOrder** 或 **SalesOrderLine**。 如果尚未设置活动，在 **此处** 选择并创建活动。

1. 在 **活动** 下，如果创建活动时活动属性已进行语义映射，选择您希望计算关注的特定属性或实体。 如果未发生语义映射，选择 **编辑** 并映射数据。
  
   :::image type="content" source="media/CLV-add-required.PNG" alt-text="添加 CLV 模型所需的数据":::

1. 选择 **下一步**，查看此模型所需的属性。

1. 选择 **保存**。

1. 添加更多活动或选择 **下一步**。

### <a name="add-optional-activity-data"></a>添加可选活动数据

反映关键客户交互的数据（如 Web、客户服务和事件日志）会将上下文添加到交易记录中。 在客户活动数据中发现的更多模式可以提高预测的准确性。

1. 在 **使用其他活动数据提升模型见解** 下选择 **添加数据**。

1. 选择与要添加的客户活动类型匹配的活动类型。 如果尚未设置活动，在 **此处** 选择并创建活动。

1. 在 **活动** 下，如果创建活动时活动属性已进行映射，选择您希望计算关注的特定属性或实体。 如果未发生映射，选择 **编辑** 并映射数据。

1. 选择 **下一步**，查看此模型所需的属性。

1. 选择 **保存**。

1. 选择 **下一步**。

1. [添加可选客户数据](#add-optional-customer-data)或选择 **下一步**，转到[设置更新计划](#set-update-schedule)。

### <a name="add-optional-customer-data"></a>添加可选客户数据

从 18 个常用的客户配置文件属性中选择来作为模型的输入包括在内。 这些属性可以为您的业务用例带来更加个性化、相关且可操作的模型结果。

例如：Contoso Coffee 希望预测客户生存期值，以针对高价值客户提供与推出新浓缩咖啡机相关的个性化优惠。 Contoso 使用 CLV 模型并添加所有 18 个客户配置文件属性，来查看哪些因素会影响最高价值的客户。 他们发现客户位置是对这些客户影响最大的因素。
有了这些信息，他们组织了一场当地的浓缩咖啡机发布活动，并与当地供应商合作提供个性化的优惠和活动上的特殊体验。 如果没有这些信息，Contoso 可能只会发送通用市场营销电子邮件，而错过了为本地高价值客户细分提供个性化服务的机会。

1. 在 **使用其他客户数据进一步提升模型见解** 下选择 **添加数据**。

1. 对于 **实体**，选择 **客户：CustomerInsights** 选择映射到客户属性数据的统一客户配置文件。 对于 **客户 ID**，选择 **System.Customer.CustomerId**。

1. 如果数据在您的统一客户配置文件中可用，则映射更多字段。

   :::image type="content" source="media/clv-optional-customer-profile-mapping.png" alt-text="客户配置文件数据的已映射字段的示例。":::

1. 选择 **保存**。

1. 选择 **下一步**。

### <a name="set-update-schedule"></a>设置更新计划

1. 选择基于最新数据重新训练模型的频率。 在将新数据引入到 Customer Insights 后，此设置对于更新预测的准确度很重要。 大多数企业每个月可以重新进行一次训练，并取得良好的预测准确度。

1. 选择 **下一步**。

### <a name="review-and-run-the-model-configuration"></a>查看并运行模型配置

**查看并运行** 步骤显示配置的摘要，并在创建预测之前提供进行更改的机会。

1. 在任何步骤中选择 **编辑** 查看并进行任何更改。

1. 如果您对您的选择满意，选择 **保存并运行** 开始运行模型。 选择 **完成**。 创建预测时，将显示 **我的预测** 选项卡。 完成该过程可能需要几个小时，具体取决于预测中使用的数据量。

[!INCLUDE [progress-details](includes/progress-details-pane.md)]

## <a name="view-prediction-results"></a>查看预测结果

1. 转到 **智能** > **预测**。

1. 在 **我的预测** 选项卡中，选择您要查看的预测。

结果页中有三个主要部分的数据。

- **训练模型的性能**：等级 A、B 或 C 表示预测的性能，可以帮助您做出决定来使用存储在输出实体中的结果。
  
  :::image type="content" source="media/clv-model-score.png" alt-text="包含等级 A 的模型分数信息框的图像。":::

  Customer Insights 评估对比基线模型，AI 模型在预测高价值客户方面的表现。

  等级是根据以下规则确定的：
  - 当模型比基线模型准确预测的高价值客户至少多 5% 时，等级为 **A**。
  - 当模型比基线模型准确预测的高价值客户多 0-5% 时，等级为 **B**。
  - 当模型比基线模型准确预测的高价值客户少时，等级为 **C**。
  
  选择 [**了解此分数**](#learn-about-the-score)打开 **模型评分** 窗格，此窗格显示有关 AI 模型性能和基线模型的更多详细信息。 它将帮助您更好地了解基础模型性能指标，以及如何推导最终模型性能等级。 基准模型使用非基于 AI 的方法，主要根据客户过去的购买情况来计算客户生存期值。

- **各百分位的客户值**：低价值和高价值客户显示在图表中。 将鼠标悬停在直方图中的条形上可以查看每个组中的客户数量以及该组的平均 CLV。 或者，根据他们的 CLV 预测[创建客户细分](prediction-based-segment.md)。
  
   :::image type="content" source="media/CLV-value-percent.png" alt-text="CLV 模型的各百分位的客户值":::

- **最具影响力的因素**：基于提供给 AI 模型的输入数据创建 CLV 预测时，会考虑各种因素。 系统针对模型创建的汇总预测计算了每个因素的重要性。 使用这些因素来帮助验证预测结果。 这些因素还提供了有关最有影响力的因素的更多见解，这些因素有助于预测所有客户的 CLV。
  
   :::image type="content" source="media/CLV-influence-factors.png" alt-text="CLV 模型的最具影响力的因素":::

### <a name="learn-about-the-score"></a>了解分数

基线模型计算 CLV 所使用的标准公式：

 _**每个客户的 CLV** = 客户在活跃客户窗口中每月平均购买的商品 * CLV 预测期内的月数 * 所有客户的总体留存率_

将按照两个模型绩效指标将 AI 模型与基线模型进行比较。
  
- **预测高价值客户的成功率**

  查看使用 AI 模型与基线模型相比在预测高价值客户方面的差别。 例如，84% 的成功率意味着在训练数据内的所有高价值客户中，AI 模型能够准确地捕获 84%。 然后，我们将此成功率与基线模型的成功率进行比较，以报告相对变化。 此值用于为模型分配等级。

- **错误指标**

  查看模型预测未来值出错方面的总体性能。 我们使用总体均方根误差 (RMSE) 指标来评估此误差。 RMSE 是一种衡量模型在预测定量数据方面的误差的标准方法。 将 AI 模型的 RMSE 与基线模型的 RMSE 进行比较，并报告相对差异。

AI 模型会根据客户为您的公司带来的价值，对客户的准确排名进行优先排序。 因此，仅使用预测高价值客户的成功率来得出最终模型等级。 RMSE 指标对异常值敏感。 在您的小部分客户购买价值极高的情况下，总体 RMSE 指标可能无法全面反映模型的性能。

[!INCLUDE [footer-include](includes/footer-banner.md)]
