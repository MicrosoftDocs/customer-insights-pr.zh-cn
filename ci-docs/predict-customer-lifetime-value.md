---
title: 客户生命周期值 (CLV) 预测
description: 预测未来活跃客户的潜在收入。
ms.date: 02/05/2021
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: how-to
author: m-hartmann
ms.author: wameng
manager: shellyha
searchScope:
- ci-predictions
- ci-create-prediction
- ci-custom-models
- customerInsights
ms.openlocfilehash: 3e1b1ce00eeda1cead9ba05beae65b6903d0b9cf
ms.sourcegitcommit: b7dbcd5627c2ebfbcfe65589991c159ba290d377
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/27/2022
ms.locfileid: "8645934"
---
# <a name="customer-lifetime-value-clv-prediction"></a>客户生命周期值 (CLV) 预测

预测单个活跃客户将在定义的未来时间段内为您的公司带来的潜在价值（收入）。 此功能可帮助您实现各种目标： 
- 识别高价值客户并处理此见解
- 根据潜在客户价值创建战略客户细分，以通过有针对性的销售、市场营销和支持工作开展个性化市场活动
- 通过关注增加客户价值的功能来指导产品开发
- 优化销售或营销策略并更准确地分配预算以进行客户拓展
- 通过忠诚度或奖励计划表彰和奖励高价值客户 

## <a name="prerequisites"></a>先决条件

在开始之前，请先思考 CLV 对您的业务意味着什么。 目前，我们支持基于交易的 CLV 预测。 预测的客户价值基于业务交易的历史记录。 若要创建预测，至少需要[参与者](permissions.md)权限。

由于配置和运行 CLV 模型不需要花费很多时间，因此，请考虑创建具有不同输入首选项的多个模型，并比较模型结果，以查看哪种模型方案最能够满足您的业务需要。

###  <a name="data-requirements"></a>数据要求

必须提供以下数据，如果数据被标记为可选，建议提供该数据，以提高模型性能。 模型能够处理的数据越多，预测就越准确。 因此，我们鼓励您引入更多客户活动数据（如果可用）。

- 客户标识符：用于将交易与单个客户匹配的唯一标识符

- 交易历史记录：具有以下语义数据架构的历史交易日志
    - **交易 ID**：每个交易的唯一标识符
    - **交易日期**：日期（最好是每个交易的时间戳）
    - **交易金额**：每个交易的货币价值（如收入或利润）
    - **分配给退货的标签**（可选）：用于表示交易是否为退货交易的布尔值 
    - **产品 ID**（可选）：交易涉及的产品的产品 ID

- 例如，其他数据（可选）
    - Web 活动：网站访问历史记录、电子邮件历史记录
    - 忠诚度活动：忠诚度奖励积分累积和兑换历史记录
    - 客户服务日志、服务请求、投诉或退货历史记录
- 有关客户活动的数据（可选）：
    - 用于区分相同类型的活动的活动标识符
    - 用于将活动映射到客户的客户标识符
    - 包含活动的名称和日期的活动信息
    - 活动的语义数据架构包括： 
        - **主键**：活动的唯一标识符
        - **时间戳**：主键所标识事件的日期和时间
        - **事件（活动名称）**：要使用的事件名称
        - **详细信息（金额或值）**：有关客户活动的详细信息

- 建议的数据特征：
    - 足够的历史数据：至少一年的交易数据。 最好使用两到三年的交易数据来预测一年的 CLV。
    - 每个客户多项购买：理想情况下，每个客户 ID 至少有两到三个交易，最好是跨越多个日期。
    - 客户数量：至少 100 个唯一客户，最好是超过 10,000 个客户。 该模型将因客户少于 100 个以及历史数据不足而失败
    - 数据完整性：在输入数据内的必填字段中，缺失值的不足 20%   

> [!NOTE]
> - 该模型需要客户的交易历史记录。 当前只能配置一个交易历史记录实体。 如果有多个购买/交易实体，您可以在数据引入之前将它们合并到 Power Query 中。
> - 但是，对于其他客户活动数据（可选），您可以根据需要添加任意多个客户活动实体以供模型考虑。

## <a name="create-a-customer-lifetime-value-prediction"></a>创建客户生存期值预测

1. 转到 **智能** > **预测**。

1. 选择 **客户生存期值** 磁贴并选择 **使用模型**。 

1. 在 **客户生存期值** 窗格中，选择 **开始**。

1. 用于与其他模型或实体区分开来的 **为此模型命名** 和 **输出实体名称**。

1. 选择 **下一步**。

### <a name="define-model-preferences"></a>定义模型首选项

1. 设置 **预测时间段**，以定义要预测 CLV 的未来时长。    
   默认情况下，单位设置为月。 您可以将它更改为年以预测更长的未来时间。

   > [!TIP]
   > 若要准确预测所设置的时间段的 CLV，您需要具有一个相似的历史数据期间。 例如，如果您希望预测未来 12 个月的 CLV，则建议您至少具有 18 – 24 个月的历史数据。

1. 指定 **活跃客户** 对您的业务的意义。 设置期限，在该期限内，客户必须至少有一笔交易被视为处于活动状态。 该模型将只预测活跃客户的 CLV。 
   - **让模型计算购买间隔（推荐）**：模型将分析您的数据，并根据过去的购买数据来确定时间段。
   - **手动设置时隔**：如果您具有活跃客户的特定业务定义，请选择此选项并相应地设置时间段。

1. 定义 **高价值客户** 的百分位数，以使模型能够提供符合业务定义的结果。
    - **模型计算（推荐）**：该模型会分析您的数据，并根据客户的交易历史记录确定对您的业务而言什么样的客户可能是高价值客户。 模型使用启发式规则（受 80/20 规则或一致原则启发）来查找高价值客户的比例。 历史期间内为您的业务贡献了 80% 的累积收入的那部分客户被认为是高价值客户。 通常，不到 30-40% 的客户将贡献 80% 的累积收入。 不过，此数字可能会因您的业务和行业而异。    
    - **排名靠前的活跃客户所占百分比**：将您的业务高价值客户定义为付款最活跃客户的百分位数。 例如，可以使用此选项将高价值客户定义为前 20% 的未来付费客户。

    如果您的公司以不同方式定义高价值客户，[请告诉我们，因为我们很想知道](https://go.microsoft.com/fwlink/?linkid=2074172)。

1. 选择 **下一步** 以继续进行下一步。

### <a name="add-required-data"></a>添加所需数据

1. 在 **所需数据** 步骤中，针对 **客户交易历史记录** 选择 **添加数据**，然后选择提供交易历史记录信息的实体，如[先决条件](#prerequisites)中所述。

1. 将语义字段映射到购买历史记录实体中的属性，然后选择 **下一步**。

   :::image type="content" source="media/clv-add-customer-data-mapping.png" alt-text="用于映射所需数据的数据属性的配置步骤图像。":::
 
1. 如果以下字段未填充，请配置购买历史记录实体与 *客户* 实体之间的关系，并选择 **保存**。
    1. 选择交易历史记录实体。
    1. 在购买历史记录实体中选择用于标识客户的字段。 它需要与您的客户实体的主要客户 ID 相关。
    1. 选择与主要客户实体匹配的实体。
    1. 输入一个用于描述关系的名称。

      :::image type="content" source="media/clv-add-customer-data-relationship.png" alt-text="用于定义与客户实体之间的关系的配置步骤图像。":::

1. 选择 **下一步**。

### <a name="add-optional-data"></a>添加可选数据

反映关键客户交互的数据（如 Web、客户服务和事件日志）会将上下文添加到交易记录中。 在客户活动数据中发现的更多模式可以提高预测的准确性。 

1. 在 **其他数据（可选）** 步骤中，选择 **添加数据**。 选择提供客户活动信息的客户活动实体，如[先决条件](#prerequisites)中所述。

1. 将语义字段映射到客户活动实体中的属性，然后选择 **下一步**。

   :::image type="content" source="media/clv-additional-data-mapping.png" alt-text="用于映射其他数据的字段的配置步骤图像。":::

1. 选择与要添加的客户活动类型匹配的活动类型。 从现有活动类型中选择或添加新的活动类型。

1. 配置客户活动实体与 *客户* 实体之间的关系。
    
    1. 在客户实体表中选择用于标识客户的字段。 它可能直接与 *客户* 实体的主要客户 ID 相关。
    1. 选择与您的主要 *客户* 实体相匹配的 *客户* 实体。
    1. 输入一个用于描述关系的名称。

   :::image type="content" source="media/clv-additional-data.png" alt-text="配置流中用于添加其他数据并使用示例中填充的数据配置活动的步骤图像。":::

1. 选择 **保存**。    
    如果要包括其他客户活动，请添加更多数据。

1. 选择 **下一步**。

### <a name="set-update-schedule"></a>设置更新计划

1. 在 **数据更新计划** 步骤中，选择基于最新数据重新训练模型的频率。 此设置对于更新预测的准确性很重要，因为在 Customer Insights 中引入了新数据。 大多数企业每个月可以重新进行一次训练，并取得良好的预测准确度。

1. 选择 **下一步**。

### <a name="review-and-run-the-model-configuration"></a>查看并运行模型配置

1. 在 **查看模型详细信息** 步骤中，验证预测配置。 通过在显示的值下面选择 **编辑**，可以返回到预测配置的任意部分。 您还可以从进度指示器中选择一个配置步骤。

1. 如果正确配置了所有值，请选择 **保存并运行** 以开始运行模型。 在 **我的预测** 选项卡上，您可以查看预测过程的状态。 完成该过程可能需要几个小时，具体取决于预测中使用的数据量。

## <a name="review-prediction-status-and-results"></a>查看预测状态和结果

### <a name="review-prediction-status"></a>查看预测状态

1.  转到 **智能** > **预测**，然后选择 **我的预测** 选项卡。
2.  选择要查看的预测。

- **预测名称**：创建时提供的预测的名称。
- **预测类型**：用于预测的模型的类型
- **输出实体**：用于存储预测输出的实体的名称。 转到 **数据** > **实体** 以查找具有此名称的实体。
- **预测字段**：仅针对某些类型的预测填充此字段，而不在客户生存期值预测中使用它。
- **状态**：预测运行的状态。
    - **已排队**：预测正在等待其他流程完成。
    - **刷新**：预测当前正在运行，以创建将流入输出实体的结果。
    - **失败**：预测运行已失败。 有关更多详细信息，请[查看日志](manage-predictions.md#troubleshoot-a-failed-prediction)。
    - **已成功**：预测已成功。 选择垂直省略号下面的 **视图**，以查看预测结果。
- **已编辑**：预测配置的更改日期。
- **上次刷新**：预测刷新输出实体中的结果的日期。

### <a name="review-prediction-results"></a>查看预测结果

1. 转到 **智能** > **预测**，然后选择 **我的预测** 选项卡。

1. 选择要查看其结果的预测。

结果页中有三个主要部分的数据。

- **训练模型性能**：A、B 或 C 是可能的等级。 该等级表示预测的性能，可以帮助您做出决定来使用存储在输出实体中的结果。 选择 **了解此分数** 以更好地了解基础模型性能指标，以及如何推导最终模型性能等级。
  
  :::image type="content" source="media/clv-model-score.png" alt-text="包含等级 A 的模型分数信息框的图像。":::

  使用在配置预测时提供的高价值客户的定义，系统评估了与基线模型相比，AI 模型在预测高价值客户方面的性能。    

  等级是根据以下规则确定的：
  - 当模型比基线模型准确预测的高价值客户至少多 5% 时，等级为 **A**。
  - 当模型比基线模型准确预测的高价值客户多 0-5% 时，等级为 **B**。
  - 当模型比基线模型准确预测的高价值客户少时，等级为 **C**。

  **模型评级** 窗格显示有关 AI 模型性能和基线模型的更多详细信息。 基准模型使用非基于 AI 的方法，主要根据客户过去的购买情况来计算客户生存期值。     
  基线模型计算 CLV 所使用的标准公式：    

  _**每个客户的 CLV** = 客户在活跃客户窗口中每月平均购买的商品 * CLV 预测期内的月数 * 所有客户的总体留存率*_

  将按照两个模型绩效指标将 AI 模型与基线模型进行比较。
  
  - **预测高价值客户的成功率**

    查看使用 AI 模型与基线模型相比在预测高价值客户方面的差别。 例如，84% 的成功率意味着在训练数据内的所有高价值客户中，AI 模型能够准确地捕获 84%。 然后，我们将此成功率与基线模型的成功率进行比较，以报告相对变化。 此值用于为模型分配等级。

  - **错误指标**
    
    另一个指标允许您查看模型预测未来值出错方面的总体性能。 我们使用总体均方根误差 (RMSE) 指标来评估此误差。 RMSE 是一种衡量模型在预测定量数据方面的误差的标准方法。 将 AI 模型的 RMSE 与基线模型的 RMSE 进行比较，并报告相对差异。

  AI 模型会根据客户为您的公司带来的价值，对客户的准确排名进行优先排序。 因此，仅使用预测高价值客户的成功率来得出最终模型等级。 RMSE 指标对异常值敏感。 在您的小部分客户购买价值极高的情况下，总体 RMSE 指标可能无法全面反映模型的性能。   

- **各百分位的客户值**：使用您对高价值客户的定义，根据客户的 CLV 预测将客户分为低价值组和高价值组，并在图表中显示。 通过将鼠标悬停在直方图中的条形上，您可以查看每个组中的客户数量以及该组的平均 CLV。 如果您想根据他们的 CLV 预测来[创建客户细分](segments.md)，那么此数据可能会有所帮助。

- **最具影响力的因素**：基于提供给 AI 模型的输入数据创建 CLV 预测时，会考虑各种因素。 系统针对模型创建的汇总预测计算了每个因素的重要性。 您可以使用这些因素帮助验证预测结果。 这些因素还提供了有关最有影响力的因素的更多见解，这些因素有助于预测所有客户的 CLV。

## <a name="manage-predictions"></a>管理预测

可以对预测进行优化、排除故障、刷新或删除。 查看输入数据可用性报告，了解如何更快、更可靠地进行预测。 有关详细信息，请参阅[管理预测](manage-predictions.md)。

[!INCLUDE [footer-include](includes/footer-banner.md)]
