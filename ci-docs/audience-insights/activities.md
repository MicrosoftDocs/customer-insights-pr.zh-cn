---
title: 客户活动
description: 定义客户活动，然后在客户配置文件中的时间线内查看这些客户活动。
ms.date: 09/27/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.reviewer: mhart
ms.topic: conceptual
author: CadeSanthaMSFT
ms.author: cadesantha
manager: shellyha
ms.openlocfilehash: c250efcd54ec126c0726b22a971cdedd89760d6b
ms.sourcegitcommit: 23c8973a726b15050e368cc6e0aab78b266a89f6
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/08/2021
ms.locfileid: "7617958"
---
# <a name="customer-activities"></a>客户活动

在 Dynamics 365 Customer Insights 中将来自[各种数据源](data-sources.md)的客户活动组合一起，创建一个按时间顺序列出活动的时间线。 将时间线包含在带[客户卡加载项](customer-card-add-in.md)解决方案的 Dynamics 365 应用中，或包含在 Power BI 仪表板中。

## <a name="define-an-activity"></a>定义活动

数据源可以包含实体，这些实体的事务数据和活动数据来自多个数据源。 确定这些实体，并选择要在客户的时间线上查看的活动。 选择其中包含目标活动的实体。

只能向客户时间线添加至少有一个类型为 **日期** 的属性的实体，并且不能添加无 **日期** 字段的实体。 如果未找到此类实体，将禁用 **添加活动** 控件。

1. 在访问群体见解中，转到 **数据** > **活动**。

1. 选择 **添加活动** 以启动活动设置过程的引导式体验。

1. 在 **活动数据** 步骤中，为以下字段设置值：

   - **活动名称**：为您的活动选择一个名称。
   - **实体**：选择其中包含事务数据或活动数据的实体。
   - **主键**：选择唯一标识记录的字段。 其中不应包含任何重复值、空值或缺少值。

   :::image type="content" source="media/Activity_Wizard1.PNG" alt-text="使用名称、实体和主键设置活动数据。":::

1. 选择 **下一步** 以继续进行下一步。

1. 在 **关系** 步骤中，配置详细信息以将您的活动数据连接到其相应的客户记录。 此步骤显示实体之间的连接。  

   - **第一**：活动实体中的外键字段，将用于与另一个实体建立关系。
   - **第二**：将与您的活动实体有关系的相应源客户实体。 您只能与数据统一过程中使用的源客户实体关联。
   - **第三**：如果此活动实体与所选源客户实体之间已经存在关系，则关系名称将处于仅读模式。 如果不存在此关系，将使用您在此框中提供的名称创建新关系。

   :::image type="content" source="media/Activity_Wizard2.PNG" alt-text="定义实体关系。":::

   > [!TIP]
   > 在 B2B 环境中，可在客户实体和其他实体之间选择。 如果选择客户实体，将自动设置关系路径。 对于其他实体，您必须定义到达客户实体前一个或多个中间实体之间的关系路径。

1. 选择 **下一步** 以继续进行下一步。 

1. 在 **活动统一** 步骤中，选择活动事件和活动开始时间。 
   - **必填字段**
      - **事件活动**：作为该活动的事件的字段。
      - **时间戳**：表示活动开始时间的字段。

   - **可选字段**
      - **其他详细信息**：具有此活动的相关信息的字段。
      - **图标**：最能代表此活动类型的图标。
      - **网址**：包含此活动相关信息的 URL 的字段。 例如，提供该活动的交易系统。 此 URL 可以是数据源中的任何字段，也可以使用 Power Query 转换将其构建为新字段。 URL 数据将存储在 *统一活动* 实体中，可以通过 [API](apis.md) 在下游使用该实体。

   - **显示在时间线中**
      - 选择是否要在客户配置文件的时间线视图中查看此活动。 若要在时间线中显示此活动，请选择 **是**，若要隐藏此活动，请选择 **否**。

      :::image type="content" source="media/Activity_Wizard3.PNG" alt-text="在统一活动实体中指定客户活动数据。":::

1. 选择 **下一步** 以移至下一个步骤。 您可以选择 **完成并查看**，以立即保存活动并将活动类型设置为 **其他**。 

1. 在 **活动类型** 步骤中，选择活动类型，并根据需要选择是否要在语意上映射某些活动类型，以便在 Customer Insights 的其他区域中使用。 当前，可以在同意映射字段之后在语义上映射 *返回*、*忠诚度*、*销售订单*、*销售订单行* 和 *订阅* 活动类型。 如果活动类型与新活动无关，您可以为自定义活动类型选择 *其他* 或 *新建*。

1. 选择 **下一步** 以移至下一个步骤。 

1. 在 **查看** 步骤中，验证您的选择。 返回到上述任何步骤并在必要时更新信息。

   :::image type="content" source="media/Activity_Wizard5.PNG" alt-text="查看活动的指定字段。":::
   
1. 选择 **保存活动** 以应用您的更改，并选择 **完成** 以返回到 **数据** > **活动**。 在这里，您可以看到哪些活动设置为在时间线中显示。 

1. 在 **活动** 页面上，选择 **运行** 来处理活动。 

> [!TIP]
> 对于任务/流程，有[六种类型的状态](system.md#status-types)。 此外，大多数流程[取决于其他下游流程](system.md#refresh-policies)。 可以选择流程状态以查看有关整个作业的进度的详细信息。 在选择一个作业任务的 **查看详细信息** 后，您会发现其他信息：处理时间、上次处理日期以及与该任务相关的所有错误和警告。


## <a name="manage-existing-activities"></a>管理现有活动

在 **数据** > **活动** 上，您可以查看所有保存的活动并管理它们。 每个活动都由行表示，其中还包括有关源、实体和活动类型的详细信息。

当您选择活动时，可以执行以下操作。 

- **编辑**：在审核步骤上打开活动设置。 您可以从此步骤更改当前的任何或全部配置。 更改配置后，选择 **保存活动**，然后选择 **运行** 来处理更改。

- **重命名**：打开一个对话框，您可以在其中为选定活动输入不同的名称。 选择 **保存** 以应用您所做的更改。

- **删除**：打开对话框以确认删除所选活动。 您也可以通过选择活动然后选择删除图标同时删除多个活动。 选择 **删除** 以确认删除。

## <a name="view-activity-timelines-on-customer-profiles"></a>查看客户配置文件上的活动时间线

配置客户活动后，在活动配置中选择 **在活动时间线中显示**，在客户配置文件中查找客户的所有活动。

要打开客户的时间线，转到 **客户**，选择您要查看的客户配置文件。

如果客户参与了您配置的活动，您会在 **活动时间线** 部分找到它。

:::image type="content" source="media/Activity_Timeline1.PNG" alt-text="在客户配置文件中查看配置的活动。":::

在活动时间线中筛选活动的方法有以下几种：

- 您可以选择一个或多个活动图标来细化结果，仅包括所选类型。

  :::image type="content" source="media/Activity_Timeline2.PNG" alt-text="使用图标按类型筛选活动。":::

- 您可以选择 **筛选器** 打开筛选器面板配置时间线筛选器。

   1. 可以按 *活动类型* 和 *日期* 进行筛选
   1. 选择 **应用** 以在活动时间线中使用筛选器。

   :::image type="content" source="media/Activity_Timeline3.PNG" alt-text="使用筛选器面板配置筛选条件。":::

要删除筛选器，选择应用于时间线的每个筛选器旁边的 **x** 或选择 **清除筛选器**。


> [!NOTE]
> 当您离开客户配置文件时，活动筛选器将被删除。 您必须在每次打开客户配置文件时应用它们。

[!INCLUDE[footer-include](../includes/footer-banner.md)]
