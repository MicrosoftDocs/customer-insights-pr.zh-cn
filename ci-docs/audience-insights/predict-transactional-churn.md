---
title: 交易流失预测
description: 预测客户是否存在不再购买您的产品或服务的风险。
ms.date: 11/12/2020
ms.reviewer: mhart
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: how-to
author: zacookmsft
ms.author: zacook
manager: shellyha
ms.openlocfilehash: f0d56fc6595fcbb226897fcb52148924d00306b6d75b617fc8cafbcc0aab0641
ms.sourcegitcommit: aa0cfbf6240a9f560e3131bdec63e051a8786dd4
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/10/2021
ms.locfileid: "7034899"
---
# <a name="transactional-churn-prediction-preview"></a>交易流失预测（预览）

交易流失预测可帮助预测客户是否在给定的时间范围内不再购买您的产品或服务。 您可以在 **智能** > **预测** 上创建新的流失预测。 选择 **我的预测** 以查看您已创建的其他预测。

> [!TIP]
> 请试用使用示例数据的交易流失预测的教程：[交易流失预测（预览）示例指南](sample-guide-predict-transactional-churn.md)。

## <a name="prerequisites"></a>先决条件

- 至少具有 Customer Insights 中的[参与者权限](permissions.md)。
- 具有了解流失对您的业务意味着什么所必需的商业知识。 我们支持基于时间的流失定义，这意味着客户在一段时间后没有进行购买就视为已流失。
- 有关您的交易/购买及其历史记录的数据：
    - 用于区分交易/购买的交易标识符。
    - 用于将交易匹配到客户的客户标识符。
    - 交易事件日期，用于定义交易发生的日期。
    - 购买/交易的语义数据架构需要以下信息：
        - **交易 ID：** 购买或交易的唯一标识符。
        - **交易日期：** 购买或交易的日期。
        - **交易值：** 交易/商品的货币/数值金额。
        - （可选）**唯一产品 ID：** 购买的产品或服务的 ID（如果您的数据位于行项级别）。
        - （可选）**此交易是否有退货：** 用于确定交易是否有退货的 true/false 字段。 如果 **交易值** 为负值，我们还将使用此信息推断退货。
- （可选）有关客户活动的数据：
    - 用于区分相同类型的活动的活动标识符。
    - 用于将活动映射到客户的客户标识符。
    - 包含活动的名称和日期的活动信息。
    - 客户活动的语义数据架构包括：
        - **主键：** 活动的唯一标识符。 例如，显示客户试用了您的产品示例的网站访问或使用情况记录。
        - **时间戳：** 主键所标识事件的日期和时间。
        - **事件：** 您要使用的事件的名称。 例如，杂货店中称为“UserAction”的字段可能是供客户使用的优惠券。
        - **详细信息：** 有关事件的详细信息。 例如，杂货店中称为“CouponValue”的字段可能是优惠券的货币值。
- 建议的数据特征：
    - 足够的历史数据：交易数据至少是所选时间窗口数据的两倍。 最好有两到三年的交易历史记录。 
    - 每个客户多项购买：理想情况下，每个客户至少要进行两次交易。
    - 客户数量：至少 10 个客户配置文件，最好是超过 1,000 个唯一客户。 该模型将因客户少于 10 个以及历史数据不足而失败。
    - 数据完整性：在提供的实体的数据字段中，缺失值的不足 20%。

> [!NOTE]
> 对于客户购买频率较高（每几周一次）的企业，建议选择较短的预测窗口和流失定义。 如果购买频率较低（几个月或一年一次），请选择较长的预测窗口和流失定义。

## <a name="create-a-transactional-churn-prediction"></a>创建交易流失预测

1. 在 Customer Insights 中，转到 **智能** > **预测**。

1. 选择 **客户流失模型（预览）** 磁贴并选择 **使用此模型**。
   
1. 在 **客户流失模型** 窗格中，选择 **交易** 并选择 **开始**。

:::image type="content" source="media/select-transaction-churn.PNG" alt-text="显示客户流失模型窗格中的所选交易选项的屏幕截图。":::

### <a name="name-model"></a>命名模型

1. 为模型提供一个名称，以区别于其他模型。

1. 仅使用字母和数字（不使用任何空格）为输出实体提供名称。 这是模型实体将使用的名称。 

1. 选择 **下一步**。

### <a name="define-customer-churn"></a>定义客户流失

1. 在 **确定在接下来的时间可能流失的客户** 字段中设置预测流失的时间段。 例如，预测客户在接下来的 90 天内流失的风险，以调整您的市场营销保留工作。 预测更长时间段或更短时间段的风险流失会更难解决流失风险配置文件中的因素，但这取决于您的特定业务需求。 
   >[!TIP]
   > 您可以随时选择 **保存并关闭** 以将预测保存为草稿。 您可以在 **我的预测** 选项卡中查找草稿预测以继续操作。

1. 在 **客户在以下时间段内未进行购买而流失：** 字段中输入天数以定义流失。 例如，如果客户在最近 30 天内未进行购买，针对您的业务，可能会将他们视为已流失。 

1. 选择 **下一步** 继续操作

### <a name="add-required-data"></a>添加所需数据

1. 针对 **购买历史记录** 选择 **添加数据**，然后选择提供交易/购买历史记录信息的实体，如[先决条件](#prerequisites)中所述。

1. 将语义字段映射到购买历史记录实体中的属性，然后选择 **下一步**。 有关字段的说明，请查看[先决条件](#prerequisites)。

   :::image type="content" source="media/model-map-purchase-entity.PNG" alt-text="映射购买实体的语义字段。":::

1. 如果以下字段未填充，请配置购买历史记录实体与客户实体之间的关系。
    1. 选择 **购买历史记录实体**。
    1. 在购买历史记录实体中选择用于标识客户的 **字段**。 它需要与您的客户实体的主要客户 ID 相关。
    1. 选择与您的主要客户实体相匹配的 **客户实体**。
    1. 输入一个用于描述关系的名称。

    :::image type="content" source="media/model-purchase-join.PNG" alt-text="显示创建与客户的关系的购买历史记录页面。":::
   
1. 选择 **下一步**。

1. 或者，针对 **客户活动** 选择 **添加数据**。 选择提供客户活动信息的实体，如先决条件中所述。

1. 将语义字段映射到客户活动实体中的属性，然后选择 **下一步**。 有关字段的说明，请查看[先决条件](#prerequisites)。

   :::image type="content" source="media/map-transaction-data-fields.png" alt-text="映射交易数据的客户字段。":::

1. 选择与您要配置的客户活动类型匹配的活动类型。 选择 **新建**，然后选择可用活动类型或创建新类型。

1. 您需要配置客户活动实体与客户实体之间的关系。
    1. 在客户实体表中选择用于标识客户的字段。 可直接与客户实体的主要客户 ID 相关。
    1. 选择与您的主要客户实体相匹配的客户实体
    1. 输入一个用于描述关系的名称。

1. 选择 **保存**。

1. 如果您有任何要包括的其他客户活动，请重复上述步骤。

1. 选择 **下一步**。

### <a name="set-schedule-and-review-configuration"></a>设置计划与查看配置

1. 设置频率以重新训练您的模型。 引入新数据时，若要更新预测的准确性，此设置非常重要。 大多数企业每个月可以重新进行一次训练，并取得良好的预测准确度。

1. 选择 **下一步**。

1. 查看预测的配置。 您可以通过选择显示值下面的 **编辑** 返回到前面的步骤。 或者，您也可以从进度指示器中选择配置步骤。

1. 如果正确配置了所有值，请选择 **保存并运行** 以开始预测过程。 在 **我的预测** 选项卡上，您可以查看预测的状态。 完成该过程可能需要几个小时，具体取决于预测中使用的数据量。

## <a name="review-a-prediction-status-and-results"></a>查看预测状态和结果

1. 转到 **智能** > **预测**，然后选择 **我的预测** 选项卡。

1. 选择要查看的预测。
   - **预测名称：** 创建时提供的预测的名称。
   - **预测类型：** 用于预测的模型的类型
   - **输出实体：** 用于存储预测输出的实体的名称。 您可以在 **数据** > **实体** 中查找具有此名称的实体。    
     在输出实体中，*ChurnScore* 是预测的流失概率，*IsChurn* 是基于 *ChurnScore* 的二进制标签，阈值为 0.5。 默认阈值可能不适合您的方案。 使用首选阈值[创建新客户细分](segments.md#create-a-new-segment)。
     并非所有客户都一定是活跃客户。 他们中的一些人可能很长一段时间没有活动，根据你的流失定义被认为是已经流失。 预测已经流失的客户的流失风险是没有用的，因为这些客户不是兴趣的受众。
   - **预测字段：** 仅针对某些类型的预测填充此字段，而不在流失预测中使用它。
   - **状态：** 预测运行的状态。
        - **已排队：** 预测正在等待其他流程运行。
        - **刷新：** 预测当前正在运行，以生成将流入输出实体的结果。
        - **失败：** 预测运行已失败。 有关更多详细信息，请[查看日志](manage-predictions.md#troubleshoot-a-failed-prediction)。
        - **已成功：** 预测已成功。 在垂直省略号下选择 **查看** 以查看预测
   - **已编辑：** 预测配置的更改日期。
   - **上次刷新**：预测刷新输出实体中的结果的日期。

1. 选择要查看其结果的预测旁边的垂直省略号并选择 **查看**。

   :::image type="content" source="media/model-subs-view.PNG" alt-text="查看控件以查看预测的结果。":::   

1. 结果页中有三个主要部分的数据：
    1. **训练模型的性能：** A、B 或 C 为可能的分数。 此分数指示预测的性能，并可帮助您做出关于使用输出实体中存储的结果的决策。 根据以下规则确定分数：
         
         - **A** 当模型准确预测总预测的至少 50% 时，以及当已流失客户的准确预测百分比大于基线率至少 10% 时。
            
         - **B** 当模型准确预测总预测的至少 50% 时，以及当已流失客户的准确预测百分比大于基线最多 10% 时。
            
         - **C** 当模型准确预测总预测的不足 50% 时，或者当已流失客户的准确预测百分比小于基线时。
               
         - **基线** 使用模型的预测时间范围输入（例如一年），并且模型将通过除以 2 创建不同的时间分数，直到它达到一个月或更短的时间。 它使用这些分数为尚未在此期限内进行购买的客户创建业务规则。 这些客户将视为已流失。 选择基于时间的业务规则作为基线模型，该规则可最大程度地预测可能流失的人员。
            
    1. **流失的可能性（客户数量）：** 基于预测的客户流失风险的客户组。 如果您要创建具有高流失风险的客户细分，此数据可以在以后为您提供帮助。 此类客户细分有助于了解客户细分成员资格应在何处截止。
       
    1. **最具影响力的因素：** 创建预测时考虑了许多因素。 每个因素都有针对模型所创建的聚合预测而计算的重要性。 您可以使用这些因素帮助验证预测结果。 或者，您也可以在以后使用该信息[创建客户细分](segments.md)，这些客户细分可能有助于影响客户流失风险。

## <a name="manage-predictions"></a>管理预测

可以对预测进行优化、排除故障、刷新或删除。 查看输入数据可用性报告，了解如何更快、更可靠地进行预测。 有关详细信息，请参阅[管理预测](manage-predictions.md)。


[!INCLUDE[footer-include](../includes/footer-banner.md)]
