---
title: 交易流失预测（视频）
description: 预测客户是否存在不再购买您的产品或服务的风险。
ms.date: 10/20/2021
ms.reviewer: mhart
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: how-to
author: zacookmsft
ms.author: zacook
manager: shellyha
ms.openlocfilehash: ad87e0fd848168d1a18f28f2ac5c507bb01e1f28
ms.sourcegitcommit: 12910882ca990ec0e890ed4deaf3dac7e01621e5
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/10/2021
ms.locfileid: "7904061"
---
# <a name="transaction-churn-prediction-preview"></a>交易流失预测（预览）

交易流失预测可帮助预测客户是否在给定的时间范围内不再购买您的产品或服务。 您可以在 **智能** > **预测** 上创建新的流失预测。 选择 **我的预测** 以查看您已创建的其他预测。 

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RWN6Eg]

对于基于企业客户的环境，我们可以针对客户，以及客户与产品类别等其他级别信息的组合预测交易流失。 添加维度可以帮助了解客户“Contoso”停止购买产品类别“办公用品”的可能性。 此外，对于企业客户，我们还可以使用 AI 针对某个类别的次要级别信息生成一个客户可能流失的潜在原因列表。

> [!TIP]
> 使用示例数据试用交易流失预测教程：[交易流失预测（预览）示例指南](sample-guide-predict-transactional-churn.md)。

## <a name="prerequisites"></a>先决条件

# <a name="individual-consumers-b-to-c"></a>[单个消费者(企业对客户)](#tab/b2c)

- 至少具有 Customer Insights 中的[参与者权限](permissions.md)。
- 具有了解流失对您的业务意味着什么所必需的商业知识。 我们支持基于时间的流失定义，这意味着客户在一段时间后没有进行购买就视为已流失。
- 有关您的交易/购买及其历史记录的数据：
    - 用于区分交易/购买的交易标识符。
    - 用于将交易匹配到客户的客户标识符。
    - 交易事件日期，用于定义交易发生的日期。
    - 购买/交易的语义数据架构需要以下信息：
        - **交易 ID**：购买或交易的唯一标识符。
        - **交易日期**：购买或交易的日期。
        - **交易值**：交易/商品的货币/数值金额。
        - （可选）**唯一产品 ID**：购买的产品或服务的 ID（如果您的数据位于行项级别）。
        - （可选）**此交易是否有退货**：用于确定交易是否有退货的 true/false 字段。 如果 **交易值** 为负值，我们还将使用此信息推断退货。
- （可选）有关客户活动的数据：
    - 用于区分相同类型的活动的活动标识符。
    - 用于将活动映射到客户的客户标识符。
    - 包含活动的名称和日期的活动信息。
    - 客户活动的语义数据架构包括：
        - **主键：** 活动的唯一标识符。 例如，显示客户试用了您的产品示例的网站访问或使用情况记录。
        - **时间戳：** 主键所标识事件的日期和时间。
        - **事件：** 您要使用的事件的名称。 例如，杂货店中称为“UserAction”的字段可能是供客户使用的优惠券。
        - **详细信息：** 有关事件的详细信息。 例如，杂货店中称为“CouponValue”的字段可能是优惠券的货币值。

# <a name="business-accounts-b-to-b"></a>[企业帐户(企业对企业)](#tab/b2b)

- 至少具有 Customer Insights 中的[参与者权限](permissions.md)。
- 具有了解流失对您的业务意味着什么所必需的商业知识。 我们支持基于时间的流失定义，这意味着客户在一段时间后没有进行购买就视为已流失。
- 有关您的交易/购买及其历史记录的数据：
    - 用于区分交易/购买的交易标识符。
    - 用于将交易匹配到客户的客户标识符。
    - 交易事件日期，用于定义交易发生的日期。
    - 购买/交易的语义数据架构需要以下信息：
        - **交易 ID**：购买或交易的唯一标识符。
        - **交易日期**：购买或交易的日期。
        - **交易值**：交易/商品的货币/数值金额。
        - （可选）**唯一产品 ID**：购买的产品或服务的 ID（如果您的数据位于行项级别）。
        - （可选）**此交易是否有退货**：用于确定交易是否有退货的 true/false 字段。 如果 **交易值** 为负值，我们还将使用此信息推断退货。
- （可选）有关客户活动的数据：
    - 用于区分相同类型的活动的活动标识符。
    - 用于将活动映射到客户的客户标识符。
    - 包含活动的名称和日期的活动信息。
    - 客户活动的语义数据架构包括：
        - **主键：** 活动的唯一标识符。 例如，显示客户试用了您的产品示例的网站访问或使用情况记录。
        - **时间戳：** 主键所标识事件的日期和时间。
        - **事件：** 您要使用的事件的名称。 例如，杂货店中称为“UserAction”的字段可能是供客户使用的优惠券。
        - **详细信息：** 有关事件的详细信息。 例如，杂货店中称为“CouponValue”的字段可能是优惠券的货币值。
- （可选）有关客户的数据：
    - 此数据应与更多静态属性保持一致，以确保模型性能达到最佳。
    - 客户数据的语义数据架构包括：
        - **客户 ID：** 客户的唯一标识符。
        - **创建日期：** 最初添加客户的日期。
        - **州或省**：客户的州或省位置。
        - **国家/地区：** 客户的国家/地区。
        - **行业：** 客户的行业类型。 例如，咖啡烘焙机中称为“Industry”的字段可能指示客户是否为零售商。
        - **分类：** 您的业务所面向的客户的分类。 例如，咖啡烘焙机中称为“ValueSegment”的字段可能是基于客户规模的客户层。

---

- 建议的数据特征：
    - 足够的历史数据：交易数据至少是所选时间窗口数据的两倍。 最好有两到三年的交易历史记录。 
    - 每个客户多项购买：理想情况下，每个客户至少要进行两次交易。
    - 客户数量：至少 10 个客户配置文件，最好是超过 1,000 个唯一客户。 该模型将因客户少于 10 个以及历史数据不足而失败。
    - 数据完整性：在提供的实体的数据字段中，缺失值的不足 20%。

> [!NOTE]
> 对于客户购买频率较高（每几周一次）的企业，建议选择较短的预测窗口和流失定义。 如果购买频率较低（几个月或一年一次），请选择较长的预测窗口和流失定义。

## <a name="create-a-transaction-churn-prediction"></a>创建交易流失预测

1. 在 Customer Insights 中，转到 **智能** > **预测**。

1. 选择 **客户流失模型（预览）** 磁贴并选择 **使用此模型**。

1. 在 **客户流失模型** 窗格中，选择 **交易**，然后选择 **开始**。

:::image type="content" source="media/select-transaction-churn.PNG" alt-text="在客户流失模型窗格中选择了交易选项的屏幕截图。":::

### <a name="name-model"></a>命名模型

1. 为模型提供一个名称，以区别于其他模型。

1. 仅使用字母和数字（不使用任何空格）为输出实体提供名称。 这是模型实体将使用的名称。 

1. 选择 **下一步**。

### <a name="define-customer-churn"></a>定义客户流失

1. 在 **确定在接下来的时间可能流失的客户** 字段中设置预测流失的时间段。 例如，预测客户在接下来的 90 天内流失的风险，以调整您的市场营销保留工作。 预测更长时间段或更短时间段的风险流失会更难解决流失风险配置文件中的因素，但这取决于您的特定业务需求。
   >[!TIP]
   > 您可以随时选择 **保存并关闭** 以将预测保存为草稿。 您可以在 **我的预测** 选项卡中查找草稿预测以继续操作。

1. 在 **客户在以下时间段内未进行购买而流失：** 字段中输入天数以定义流失。 例如，如果客户在最近 30 天内未进行购买，针对您的业务，可能会将他们视为已流失。 

1. 选择 **下一步** 继续操作。

### <a name="add-required-data"></a>添加所需数据

1. 选择 **添加数据**，然后在包含必需的转换信息或购买历史记录信息的侧窗格中选择活动类型。

1. 在 **选择活动** 下，从所选活动中选择要重点计算的特定活动。

   :::image type="content" source="media/product-recommendation-select-semantic-activity.PNG" alt-text="侧边栏显示在语义类型下选择特定活动。":::

1. 如果您尚未将活动映射到语义类型，请选择 **编辑** 进行映射。 将打开映射语义活动的引导式体验。 将数据映射到所选活动类型中的相关字段。

   :::image type="content" source="media/product-recommendation-set-activity-type.PNG" alt-text="页面显示设置活动类型。":::

1. 将活动映射到相应的语义类型后，选择 **下一 步** 以继续

1. 将语义属性映射到运行模型所需的字段。 如果以下字段未填充，请配置购买历史记录实体与 *客户* 实体之间的关系。

1. 选择 **下一步**。

# <a name="individual-consumers-b-to-c"></a>[单个消费者(企业对客户)](#tab/b2c)

### <a name="add-additional-data-optional"></a>添加其他数据（可选）

配置客户活动实体与 *客户* 实体之间的关系。

1. 在客户实体表中选择用于标识客户的字段。 它可能直接与 *客户* 实体的主要客户 ID 相关。

1. 选择作为您的主要 *Customer* 实体的实体。

1. 输入一个用于描述关系的名称。

#### <a name="customer-activities"></a>客户活动

1. 或者，针对 **客户活动** 选择 **添加数据**。

1. 选择包含您要使用的数据的语义活动类型，然后在 **活动** 部分选择一个或多个活动。

1. 选择与您要配置的客户活动类型匹配的活动类型。 选择 **新建**，然后选择可用活动类型或创建新类型。

1. 选择 **下一步**，然后选择 **保存**。

1. 如果您有任何要包括的其他客户活动，请重复上述步骤。

# <a name="business-accounts-b-to-b"></a>[企业帐户(企业对企业)](#tab/b2b)

### <a name="select-prediction-level"></a>选择预测级别

大多数预测在客户级别创建。 在某些情况下，这可能不够细化，不能满足您的业务需要。 例如，您可以使用此功能预测某个客户分支的流失，而不能预测客户整体的流失。

1. 要在比客户更细化的级别创建预测，选择 **选择次要级别的实体**。 如果此选项不可用，请确保您已完成上一节的内容。

1. 展开要从中选择次要级别的实体，或使用搜索筛选器框筛选所选选项。

1. 选择要用作次要级别的属性，然后选择 **添加**。

1. 选择 **下一步**。

> [!NOTE]
> 本节中可用的实体将显示，因为它们与您在上一节中选择的实体有关系。 如果您没有看到要添加的实体，请确保它在 **关系** 中具有有效的关系。 对于此配置，只有一对一和多对一关系有效。

### <a name="add-additional-data-optional"></a>添加其他数据（可选）

配置客户活动实体与 *客户* 实体之间的关系。

1. 在客户实体表中选择用于标识客户的字段。 它可能直接与 *客户* 实体的主要客户 ID 相关。

1. 选择作为您的主要 *Customer* 实体的实体。

1. 输入一个用于描述关系的名称。

#### <a name="customer-activities"></a>客户活动

1. 或者，针对 **客户活动** 选择 **添加数据**。

1. 选择包含您要使用的数据的语义活动类型，然后在 **活动** 部分选择一个或多个活动。

1. 选择与您要配置的客户活动类型匹配的活动类型。 选择 **新建**，然后选择可用活动类型或创建新类型。

1. 选择 **下一步**，然后选择 **保存**。

1. 如果您有任何要包括的其他客户活动，请重复上述步骤。

#### <a name="customers-data"></a>客户数据

1. 或者，为 **客户数据** 选择 **添加数据**。

1. 根据标识将语义属性映射到您自己的客户数据中的字段。 使用的字段中的数据不应经常更改以确保模型的最佳性能。 例如，选择每月更改的“分类”字段只能获得预测中使用的最后一个值，即使历史上相同的值在构建预测模式时可能不应用于客户。

1. 选择 **下一步**。

### <a name="provide-an-optional-list-of-benchmark-accounts"></a>提供可选的基准客户列表

添加要用作基准的企业客户列表。 您将获得[这些基准客户的详细信息](#review-a-prediction-status-and-results)，包括其流失分数和对其流失预测影响最大的特征。

1. 选择 **+ 添加客户**。

1. 选择作为基准的客户。

1. 选择 **下一步** 继续操作。

---

### <a name="set-schedule-and-review-configuration"></a>设置计划与查看配置

1. 设置频率以重新训练您的模型。 引入新数据时，若要更新预测的准确性，此设置非常重要。 大多数企业每个月可以重新进行一次训练，并取得良好的预测准确度。

1. 选择 **下一步**。

1. 查看预测的配置。 您可以通过选择显示值下面的 **编辑** 返回到前面的步骤。 或者，您也可以从进度指示器中选择配置步骤。

1. 如果正确配置了所有值，请选择 **保存并运行** 以开始预测过程。 在 **我的预测** 选项卡上，您可以查看预测的状态。 完成该过程可能需要几个小时，具体取决于预测中使用的数据量。

## <a name="review-a-prediction-status-and-results"></a>查看预测状态和结果

1. 转到 **智能** > **预测**，然后选择 **我的预测** 选项卡。

1. 选择要查看的预测。
   - **预测名称**：创建时提供的预测的名称。
   - **预测类型**：用于预测的模型的类型
   - **输出实体**：用于存储预测输出的实体的名称。 您可以在 **数据** > **实体** 中查找具有此名称的实体。
     在输出实体中，*ChurnScore* 是预测的流失概率，*IsChurn* 是基于 *ChurnScore* 的二进制标签，阈值为 0.5。 默认阈值可能不适合您的方案。 使用首选阈值[创建新客户细分](segments.md#create-a-new-segment)。
     并非所有客户都一定是活跃客户。 他们中的一些人可能很长一段时间没有活动，根据你的流失定义被认为是已经流失。 为已经流失的客户预测流失风险没有用处，因为他们不是受关注的访问群体。
   - **预测字段**：仅针对某些类型的预测填充此字段，而不在流失预测中使用它。
   - **状态**：预测运行的状态。
        - **已排队**：预测正在等待其他流程运行。
        - **刷新**：预测当前正在运行，以生成将流入输出实体的结果。
        - **失败**：预测运行已失败。 有关更多详细信息，请[查看日志](manage-predictions.md#troubleshoot-a-failed-prediction)。
        - **已成功**：预测已成功。 在垂直省略号下选择 **查看** 以查看预测
   - **已编辑**：预测配置的更改日期。
   - **上次刷新**：预测刷新输出实体中的结果的日期。

1. 选择要查看其结果的预测旁边的垂直省略号并选择 **查看**。

   :::image type="content" source="media/model-subs-view.PNG" alt-text="查看控件以查看预测的结果。":::

# <a name="individual-consumers-b-to-c"></a>[单个消费者(企业对客户)](#tab/b2c)

1. 结果页中有三个主要部分的数据：
   - **训练模型的性能**：A、B 或 C 为可能的分数。 此分数指示预测的性能，并可帮助您做出关于使用输出实体中存储的结果的决策。 根据以下规则确定分数： 
        - **A** 当模型准确预测总预测的至少 50% 时，以及当已流失客户的准确预测百分比大于基线率至少 10% 时。
            
        - **B** 当模型准确预测总预测的至少 50% 时，以及当已流失客户的准确预测百分比大于基线最多 10% 时。
            
        - **C** 当模型准确预测总预测的不足 50% 时，或者当已流失客户的准确预测百分比小于基线时。
               
        - **基线** 使用模型的预测时间范围输入（例如一年），并且模型将通过除以 2 创建不同的时间分数，直到它达到一个月或更短的时间。 它使用这些分数为尚未在此期限内进行购买的客户创建业务规则。 这些客户将视为已流失。 选择基于时间的业务规则作为基线模型，该规则可最大程度地预测可能流失的人员。
            
    - **流失的可能性（客户数量）**：基于预测的客户流失风险的客户组。 如果您要创建具有高流失风险的客户细分，此数据可以在以后为您提供帮助。 此类客户细分有助于了解客户细分成员资格应在何处截止。
       
    - **最具影响力的因素**：创建预测时考虑了许多因素。 每个因素都有针对模型所创建的聚合预测而计算的重要性。 您可以使用这些因素来帮助验证您的预测结果，或者您可以稍后使用这些信息来[创建客户细分](segments.md)，以帮助影响客户流失风险。


# <a name="business-accounts-b-to-b"></a>[企业帐户(企业对企业)](#tab/b2b)

1. 结果页中有三个主要部分的数据：
   - **训练模型的性能**：A、B 或 C 为可能的分数。 此分数指示预测的性能，并可帮助您做出关于使用输出实体中存储的结果的决策。 根据以下规则确定分数： 
        - **A** 当模型准确预测总预测的至少 50% 时，以及当已流失客户的准确预测百分比大于基线率至少 10% 时。
            
        - **B** 当模型准确预测总预测的至少 50% 时，以及当已流失客户的准确预测百分比大于基线最多 10% 时。
            
        - **C** 当模型准确预测总预测的不足 50% 时，或者当已流失客户的准确预测百分比小于基线时。
               
        - **基线** 使用模型的预测时间范围输入（例如一年），并且模型将通过除以 2 创建不同的时间分数，直到它达到一个月或更短的时间。 它使用这些分数为尚未在此期限内进行购买的客户创建业务规则。 这些客户将视为已流失。 选择基于时间的业务规则作为基线模型，该规则可最大程度地预测可能流失的人员。
            
    - **流失的可能性（客户数量）**：基于预测的客户流失风险的客户组。 如果您要创建具有高流失风险的客户细分，此数据可以在以后为您提供帮助。 此类客户细分有助于了解客户细分成员资格应在何处截止。
       
    - **最具影响力的因素**：创建预测时考虑了许多因素。 每个因素都有针对模型所创建的聚合预测而计算的重要性。 您可以使用这些因素来帮助验证您的预测结果，或者您可以稍后使用这些信息来[创建客户细分](segments.md)，以帮助影响客户流失风险。


1. 对于企业客户，您会发现一个 **影响特征分析** 信息页面。 它包含四部分数据：

    - 在右窗格中选择的项目确定此页面上的内容。 从 **排名靠前的客户** 或 **基准客户** 中选择一个项目。 两个列表都按流失分数的递减值排序，无论是仅针对客户的分数，还是针对客户和次要级别（如产品类别）的组合分数。
        
        - **排名靠前的客户**：根据客户流失分数列出流失风险最高和流失风险最低的 10 个客户。 
        - **基准客户**：配置模型时选择的最多 10 个客户的列表。
 
    - **流失分数：** 在右侧窗格中显示所选项目的流失分数。
    
    - **流失风险分布：** 显示客户流失风险分布以及所选客户所在的百分比。 
    
    - **增加和降低流失风险的主要特征：** 对于右侧窗格中的所选项目，将列出增加和减少流失风险的前五个特征。 对于每个影响特征，您将找到该项目的特征值及其对流失分数的影响。 另外还将显示低、中和高流失客户细分中每个特征的平均值。 它有助于更好地确定所选项目主要影响特征的值的上下文，并将其与低、中和高流失客户细分进行比较。

       - 低：流失分数在 0 到 0.33 之间的客户或客户和次要级别的组合
       - 中：流失分数在 0.33 到 0.66 之间的客户或客户和次要级别的组合
       - 高：流失分数在 0.66 以上的客户或客户和次要级别的组合
    
       当您在客户级别预测流失时，在派生流失客户细分的平均特征值时会考虑所有客户。 对于每个客户在次要级别的流失预测，流失客户细分的派生取决于在侧窗格中选择的项目的次要级别。 例如，如果一个项目具有次要产品类别 = 办公用品，那么在派生流失客户细分的平均特征值时，将只考虑将办公用品作为产品类别的项目。 应用此逻辑是为了确保将项目的特征值与低、中和高流失客户细分的平均值进行公平比较。

       在有些情况下，低、中或高流失客户细分的平均值为空或不可用，因为根据上述定义，不存在属于相应流失客户细分的项目。
       
       > [!NOTE]
       > 对于国家/地区或行业等分类特征，对平均低、中和高列下的值的解释是不同的。 由于“平均”特征值的概念不适用于分类特征，因此这些列中的值是低、中或高流失客户细分中与侧面板中选择的项目相比具有相同分类特征值的客户比例。

---

## <a name="manage-predictions"></a>管理预测

可以对预测进行优化、排除故障、刷新或删除。 查看输入数据可用性报告，了解如何更快、更可靠地进行预测。 有关详细信息，请转到[管理预测](manage-predictions.md)。

[!INCLUDE[footer-include](../includes/footer-banner.md)]
