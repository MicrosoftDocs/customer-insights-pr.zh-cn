---
title: 使用客户细分生成器创建客户细分
description: 创建客户细分，以便根据各种属性为客户分组。
ms.date: 09/07/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: how-to
author: JimsonChalissery
ms.author: jimsonc
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 7f7bd0e7e581305836287bd503ef273a2d556bff
ms.sourcegitcommit: fecdee73e26816c42d39d160d4d5cfb6c8a91596
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/15/2021
ms.locfileid: "7494482"
---
# <a name="create-segments"></a>创建客户细分

围绕着统一客户实体及其相关实体定义复杂筛选器。 每个客户细分在处理之后都会创建一组您可以导出并对其执行操作的客户记录。 在 **客户细分** 页面上管理客户细分。 可以使用[客户细分生成器](#segment-builder)或此应用其他区域中的[创建快速客户细分](#quick-segments)来[新建客户细分](#create-a-new-segment)。

## <a name="segment-builder"></a>客户细分生成器

下图演示客户细分生成器的各个方面。 其中显示的一个客户细分将生成一组客户。 客户在特定时间段订购商品，并收获了一些奖励积分或花费了一定金额的钱。 

:::image type="content" source="media/segment-builder-overview.png" alt-text="客户细分生成器的元素。" lightbox="media/segment-builder-overview.png":::

1 - 使用规则和子规则组织您的客户细分。 每个规则或子规则都由条件构成。 使用逻辑运算符组合条件

2 - 选择应用于规则的实体之间的[关系路径](relationships.md)。 关系路径决定条件中可使用哪些属性。

3 - 管理规则和子规则。 更改规则的位置或删除规则。

4 - 使用子规则添加条件和创建适当的嵌套级别。

5 - 为相连规则应用集运算。

6 - 使用属性窗格添加可用实体属性或基于属性创建条件。 此窗格根据所选关系路径显示所选规则的可用实体和属性的列表。

7 - 基于属性向现有规则和子规则添加条件，或向新规则添加条件。

8 - 创建客户细分时撤消和恢复更改。

上面的示例显示客户细分功能。 我们为在线上至少购买了 500 美元商品 *并且* 对软件开发有兴趣的客户定义了一个客户细分。

## <a name="create-a-new-segment"></a>新建细分

创建新客户细分的方法有多种。 本部分介绍如何从头开始生成您自己的客户细分。 您还可以根据现有实体创建 *快速客户细分*，或者使用机器学习模型获取 *建议的客户细分*。 详细信息：[客户细分概述](segments.md)。

在创建客户细分时，可以保存草稿。 它将保存为停用的客户细分，完成之前无法通过有效配置激活它。

1. 转到 **细分** 页。

1. 选择 **新建** > **创建自己的内容**。

1. 在客户细分生成器页中定义第一条规则。 规则由一个或多个条件构成，用于定义一组客户。

1. 在 **Rule1** 部分中，选择要充当客户筛选规则的实体属性。 可通过两种方法选择属性。 
   - 在 **添加到规则** 窗格中查看可用实体和属性的列表，然后选择要添加的属性旁边的 **+** 图标。 选择要将属性添加到现有规则中，还是将其用于创建新规则。
   - 在规则部分中键入属性的名称，以查看匹配的建议。

1. 选择运算符以指定条件的匹配值。 属性可以具有四种数据类型之一作为值：数值、字符串、日期或布尔值。 根据属性的数据类型，可以使用不同的运算符来指定条件。 

1. 选择 **添加添加** 向规则添加更多条件。 若要在当前规则下创建规则，请选择 **添加子规则**。

1. 如果规则使用非 *客户* 实体 ，您必须设置关系路径。 需要关系路径才能通知系统要通过哪些关系访问统一客户实体。 选择 **设置关系路径** 将所选实体映射到统一客户实体。 如果仅有一个可能的关系路径，系统将自动选择该关系路径。 不同的关系路径可能产生不同的结果。 每个规则都可以有自己的关系路径。

   :::image type="content" source="media/relationship-path.png" alt-text="根据映射到统一客户实体的实体创建规则时的潜在关系路径。":::

   例如，屏幕截图中的 *eCommerce_eCommercePurchases* 实体有四个用于映射到 *Customer* 实体的选项： 
   - eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > Customer
   - eCommerce_eCommercePurchases > Customer
   - eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > Customer
   - eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > loyaltyScheme_loyCustomers > Customer 如果选择最后一个选项，可以在规则条件中加入所有列出的实体中的属性。 获得的结果可能减少，因为匹配的客户记录需要是所有实体的其中一部分。 在此示例中，客户必须已通过电子商务 (*eCommerce_eCommercePurchases*) 在销售点 (*POS_posPurchases*) 购买了货物，并且参加了我们的忠诚度计划 (*loyaltyScheme_loyCustomers*)。 如果选择第二个选项，则只能从 *eCommerce_eCommercePurchases* 和 *Customer* 实体选择属性。 这可能会生成更多客户配置文件。

1. 如果一个规则中包含多个条件，您可以选择连接这些条件的逻辑运算符。

   - **AND** 运算符：必须满足所有条件才能在客户细分中包含记录。 如果要为不同实体定义条件，此选项最有用。

   - **OR** 运算符：必须满足其中一个条件才能在客户细分中包含记录。 如果要为同一个实体定义多个条件，此选项最有用。

   :::image type="content" source="media/segmentation-either-condition.png" alt-text="包含两个 AND 条件的规则。":::

   如果使用 OR 运算符，则所有条件必须基于关系路径中包含的实体。

   1. 您可以创建多条规则以创建多组不同的客户记录。 您可以合并组以包括业务案例所需的客户。 若要新建规则，请选择 **添加规则**。 特别是，如果由于指定的关系路径的原因，无法在规则中包含实体，则必须创建一个新规则以从中选择属性。

      :::image type="content" source="media/segment-rule-grouping.png" alt-text="向客户细分添加新规则，然后选择 set 运算符。":::

   1. 选择一个设置的运算符：**并集**、**交集** 或 **排除**。

   - **联合** 用于联合两个组。

   - **相交** 用于重叠两个组。 仅在统一组中保留这两个组 *共有* 的数据。

   - **除外** 用于合并两个组。 仅保留 A 组中与 B 组中的数据 *不共有* 的数据。

1. 默认情况下，细分市场会生成包含与所定义筛选器匹配的客户配置文件所有属性的输出实体。 如果细分市场基于 *客户* 实体以外的其他实体，则可以将这些实体中的更多属性添加到输出实体中。 选择 **项目属性** 以选择将附加到输出实体的属性。  

   :::image type="content" source="media/segments-project-attributes.png" alt-text="侧窗格中选择了要添加到输出实体的预测属性的示例。":::
  
   示例：客户细分基于其中包含采购数据的实体，其与 *Customer* 实体有关。 此客户细分查找今年购买了商品的所有西班牙客户。 可以选择向输出实体中的所有匹配的客户记录追加商品价格或购买日期之类属性。 若要分析季节与总支出之间的关系，此信息可能非常有用。

   > [!NOTE]
   > - 预测的属性仅适用于与客户实体具有一对多关系的实体。 例如，一个客户可以具有多个订阅。
   > - 只能预测要生成的客户细分查询的每个规则中使用的实体中的属性。
   > - 在使用设置的运算符时，会将预测属性考虑在内。

1. 保存并运行客户细分之前，请选择客户细分名称旁边的 **编辑详细信息**。 为客户细分提供名称，然后更新为客户细分建议的 **输出实体名称**。 您还可以向客户细分添加说明。

1. 所有客户细分均通过验证之后，选择 **运行** 以保存和处理客户细分。 否则，它将另存为停用客户细分草稿。

1. 选择 **返回到客户细分** 以返回到 **客户细分** 页。

> [!TIP]
> - 在为条件设置运算符时，客户细分生成器不会建议实体中的有效值。 您可以转到 **数据** > **实体**，然后下载实体数据以查看哪些值可用。
> - 基于日期的条件让您可以在固定日期与浮动日期范围之间切换。
> - 如果客户细分有多个规则，可以在正在编辑的规则周围看到蓝色条。
> - 可以将规则和条件移动到客户细分定义中的其他位置。 选择规则或条件旁边的 [...]，然后选择其移动方法和目标位置。
> - 命令栏中的 **撤消** 和 **恢复** 控件可用于回滚更改。

## <a name="quick-segments"></a>快速细分

通过快速客户细分，您可以利用单个运算符快速构建简单的客户细分，以便更快地获取见解。

1. 在 **客户细分** 页上，选择 **新建** > **创建自**。

   - 若要生成基于 *统一的客户* 实体的细分，请选择 **配置文件** 选项。
   - 选择 **度量** 选项，以围绕先前创建的度量构建客户细分。
   - 选择 **智能** 以根据您使用 **预测** 或 **自定义模型** 功能生成的一个输出实体构建细分。

2. 在 **新快速客户细分** 对话框中，从 **字段** 下拉列表选择属性。

3. 系统将提供更多见解来帮助您创建更出色的客户细分。
   - 对于分类字段，我们将显示排名最靠前的 10 类客户的计数。 选择一个 **值**，然后选择 **查看**。

   - 对于数值属性，系统将显示哪个属性值归入每个客户的百分比下。 选择 **运算符** 和 **值**，然后选择 **查看**。

4. 系统将为您提供 **估算的细分大小**。 可以选择要生成已定义的细分，还是先再次访问该细分以获取不同的细分大小。

    > [!div class="mx-imgBorder"]
    > ![快速客户细分的名称和估算。](media/quick-segment-name.png "快速细分的名称和估算")

5. 为细分提供 **名称**。 （可选）提供 **显示名称**。

6. 选择 **保存** 以创建细分。

7. 处理完细分之后，可以就像创建的其他细分一样查看该细分。

## <a name="next-steps"></a>后续步骤

[导出客户细分](export-destinations.md)和浏览 [Customer Card 集成](customer-card-add-in.md)，以便在其他应用程序中使用客户细分。

[!INCLUDE[footer-include](../includes/footer-banner.md)]
