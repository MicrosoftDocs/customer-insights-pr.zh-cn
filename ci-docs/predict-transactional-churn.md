---
title: 交易流失预测（包含视频）
description: 预测客户是否存在不再购买您的产品或服务的风险。
ms.date: 09/30/2022
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: how-to
author: zacookmsft
ms.author: zacook
manager: shellyha
ms.openlocfilehash: fd8df0f0a168ddfab9e8ad3af9e1f1fc0bc1b7a2
ms.sourcegitcommit: be341cb69329e507f527409ac4636c18742777d2
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/30/2022
ms.locfileid: "9610501"
---
# <a name="predict-transaction-churn"></a>预测交易流失

交易流失预测可帮助预测客户是否在给定的时间范围内不再购买您的产品或服务。

您必须具有了解流失对您的业务意味着什么所必需的业务知识。 我们支持基于时间的流失定义，这意味着客户在一段时间后没有进行购买就视为已流失。

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RWN6Eg]

对于基于企业客户的环境，我们可以针对客户，以及客户与产品类别等其他级别信息的组合预测交易流失。 例如，添加维度可以帮助确定客户“Contoso”停止购买产品类别“办公用品”的可能性。 此外，对于企业客户，我们还可以使用 AI 针对某个类别的次要级别信息生成一个客户可能流失的潜在原因列表。

> [!TIP]
> 使用示例数据试用交易流失预测：[交易流失预测示例指南](sample-guide-predict-transactional-churn.md)。

## <a name="prerequisites"></a>先决条件

- 至少具有[参与者权限](permissions.md)。
- 至少 10 个客户配置文件，最好是超过 1,000 个唯一客户。
- 客户标识符，用于使交易与客户匹配的唯一标识符。
- 至少是所选时间窗口两倍的交易数据，如两到三年的交易历史记录。 理想情况下，每个客户至少有两个交易。 交易历史记录必须包括：
  - **交易 ID**：购买或交易的唯一标识符。
  - **交易日期**：购买或交易的日期。
  - **交易值**：交易的货币或数值金额。
  - **唯一产品 ID**：购买的产品或服务的 ID（如果您的数据位于行项级别）。
  - **此交易是否有退货**：用于确定交易是否有退货的 true/false 字段。 如果 **交易值** 为负值，我们将推断退货。
- 客户活动数据：
  - 客户标识符，用于将活动映射到客户的唯一标识符。
  - **主键：** 活动的唯一标识符。 例如，显示客户试用了您的产品示例的网站访问或使用情况记录。
  - **时间戳：** 主键所标识事件的日期和时间。
  - **事件：** 您要使用的事件的名称。 例如，杂货店中称为“UserAction”的字段可能是供客户使用的优惠券。
  - **详细信息：** 有关事件的详细信息。 例如，杂货店中称为“CouponValue”的字段可能是优惠券的货币值。
- 在所提供实体的数据字段中，缺失值在 20% 以下

对于企业客户（企业到企业），添加与更多静态属性一致的客户数据，以确保模型达到最佳性能：
- **客户 ID：** 客户的唯一标识符。
- **创建日期：** 最初添加客户的日期。
- **州或省**：客户的州或省位置。
- **国家/地区：** 客户的国家/地区。
- **行业：** 客户的行业类型。 例如，咖啡烘焙机中称为“Industry”的字段可能指示客户是否为零售商。
- **分类：** 您的业务所面向的客户的分类。 例如，咖啡烘焙机中称为“ValueSegment”的字段可能是基于客户规模的客户层。

> [!NOTE]
> 对于客户购买频率较高（每几周一次）的企业，建议选择较短的预测窗口和流失定义。 如果购买频率较低（几个月或一年一次），请选择较长的预测窗口和流失定义。

## <a name="create-a-transaction-churn-prediction"></a>创建交易流失预测

1. 转到 **智能** > **预测**。

1. 在 **创建** 选项卡上，在 **客户流失模型** 磁贴上选择 **使用模型**。

1. 选择 **交易** 作为流失类型，然后选择 **开始**。

1. 用于与其他模型或实体区分开来的 **为此模型命名** 和 **输出实体名称**。

1. 选择 **下一步**。

### <a name="define-customer-churn"></a>定义客户流失

随时选择 **保存草稿**，将预测保存为草稿。 草稿预测将显示在 **我的预测** 选项卡中。

1. 设置 **预测窗口**。 例如，预测客户在接下来的 90 天内流失的风险，以调整您的市场营销保留工作。 预测更长时间段或更短时间段的风险流失会更难解决流失风险配置文件中的因素，但这取决于您的特定业务需求。

1. 在 **流失定义** 字段中输入定义流失的天数。 例如，如果客户在最近 30 天内未进行购买，针对您的业务，可能会将他们视为已流失。

1. 选择 **下一步**。

### <a name="add-purchase-history"></a>添加购买历史记录

1. 为 **客户交易历史记录** 选择 **添加数据**。

1. 选择包含交易历史记录信息的语义活动类型 **SalesOrder** 或 **SalesOrderLine**。 如果尚未设置活动，在 **此处** 选择并创建活动。

1. 在 **活动** 下，如果创建活动时活动属性已进行语义映射，选择您希望计算关注的特定属性或实体。 如果未发生语义映射，选择 **编辑** 并映射数据。

   :::image type="content" source="media/transaction-churn-select-activity.PNG" alt-text="侧边栏显示在语义类型下选择特定活动。":::

1. 选择 **下一步**，查看此模型所需的属性。

1. 选择 **保存**。

1. 添加更多活动或选择 **下一步**。

# <a name="individual-consumers-b-to-c"></a>[单个消费者(企业对客户)](#tab/b2c)

### <a name="add-additional-data-optional"></a>添加其他数据（可选）

1. 为 **客户活动** 选择 **添加数据**。

1. 选择包含要使用的数据的语义活动类型。 如果尚未设置活动，在 **此处** 选择并创建活动。

1. 在 **活动** 下，如果创建活动时活动属性已进行语义映射，选择您希望计算关注的特定属性或实体。 如果未发生语义映射，选择 **编辑** 并映射数据。

1. 选择 **下一步**，查看此模型所需的属性。

1. 选择 **保存**。

1. 选择 **下一个**

# <a name="business-accounts-b-to-b"></a>[企业帐户(企业对企业)](#tab/b2b)

### <a name="select-prediction-level"></a>选择预测级别

大多数预测在客户级别创建。 在某些情况下，这可能不够细化，不能满足您的业务需要。 例如，使用此功能可以预测某个客户分支的流失，而不能预测客户整体的流失。

1. 选择 **选择次要级别的实体**。 如果此选项不可用，请确保您已完成上一节的内容。

1. 展开要从中选择次要级别的实体，或使用搜索筛选器框筛选所选选项。

1. 选择要用作次要级别的属性，然后选择 **添加**。

1. 选择 **下一步**。

> [!NOTE]
> 本节中可用的实体将显示，因为它们与您在上一节中选择的实体有关系。 如果您没有看到要添加的实体，请确保它在 **关系** 中具有有效的关系。 对于此配置，只有一对一和多对一关系有效。

### <a name="add-additional-data-optional"></a>添加其他数据（可选）

1. 为 **客户活动** 选择 **添加数据**。

1. 选择包含要使用的数据的语义活动类型。 如果尚未设置活动，在 **此处** 选择并创建活动。

1. 在 **活动** 下，如果创建活动时活动属性已进行语义映射，选择您希望计算关注的特定属性或实体。 如果未发生语义映射，选择 **编辑** 并映射数据。

1. 选择 **下一步**，查看此模型所需的属性。

1. 选择 **保存**。

1. 选择 **下一个**

1. 或者，为 **客户数据** 选择 **添加数据**。

1. 根据标识将语义属性映射到您自己的客户数据中的字段。 使用的字段中的数据不应经常更改以确保模型的最佳性能。 例如，选择每月更改的“分类”字段只能获得预测中使用的最后一个值，即使历史上相同的值在构建预测模式时可能不应用于客户。

1. 选择 **下一步**。

### <a name="provide-an-optional-list-of-benchmark-accounts"></a>提供可选的基准客户列表

添加要用作基准的企业客户列表。 [这些基准客户的详细信息](#view-prediction-results)包括其流失分数和对其流失预测影响最大的特征。

1. 选择 **+ 添加客户**。

1. 选择作为基准的客户。

1. 选择 **下一步**。

---

### <a name="set-update-schedule"></a>设置更新计划

1. 对于 **数据更新** 步骤，选择重新训练模型的频率。 在将新数据引入到 Customer Insights 后，此设置对于更新预测的准确度很重要。 大多数企业每个月可以重新进行一次训练，并取得良好的预测准确度。

1. 选择 **下一步**。

### <a name="review-and-run-the-model-configuration"></a>查看并运行模型配置

**查看并运行** 步骤显示配置的摘要，并在创建预测之前提供进行更改的机会。

1. 在任何步骤中选择 **编辑** 查看并进行任何更改。

1. 如果您对您的选择满意，选择 **保存并运行** 开始运行模型。 选择 **完成**。 创建预测时，将显示 **我的预测** 选项卡。 完成该过程可能需要几个小时，具体取决于预测中使用的数据量。

[!INCLUDE [progress-details](includes/progress-details-pane.md)]

## <a name="view-prediction-results"></a>查看预测结果

1. 转到 **智能** > **预测**。

1. 在 **我的预测** 选项卡中，选择您要查看的预测。

# <a name="individual-consumers-b-to-c"></a>[单个消费者(企业对客户)](#tab/b2c)

结果页中有三个主要部分的数据：

[!INCLUDE [predict-transaction-results](includes/predict-transaction-results.md)]

# <a name="business-accounts-b-to-b"></a>[企业帐户(企业对企业)](#tab/b2b)

结果页中有三个主要部分的数据：

[!INCLUDE [predict-transaction-results](includes/predict-transaction-results.md)]

**影响特征分析** 信息页面包含四个数据部分：

- 在右侧窗格中，从 **排名靠前的客户** 或 **基准客户** 中选择一个项目。 两个列表都按流失分数的递减值排序，无论是仅针对客户的分数，还是针对客户和次要级别（如产品类别）的组合分数。 选择的项目确定此页面上的内容。

  - **排名靠前的客户**：根据客户流失分数列出流失风险最高和流失风险最低的 10 个客户。
  - **基准客户**：配置模型时选择的最多 10 个客户的列表。

- **流失分数：** 在右侧窗格中显示所选项目的流失分数。

- **流失风险分布：** 显示客户流失风险分布以及所选客户所在的百分位数。

- **增加和降低流失风险的主要特征：** 为右侧窗格中的所选项目列出增加和减少流失风险的前五个特征。 显示该项目的特征值及其对每个影响特征的流失分数的影响。 另外还将显示低、中和高流失客户细分中每个特征的平均值。 它有助于更好地确定所选项目主要影响特征的值的上下文，并将其与低、中和高流失客户细分进行比较。

  - 低：流失分数在 0 到 0.33 之间的客户或客户和次要级别的组合。
  - 中：流失分数在 0.33 到 0.66 之间的客户或客户和次要级别的组合。
  - 高：流失分数在 0.66 以上的客户或客户和次要级别的组合。

  当您在客户级别预测流失时，在派生流失客户细分的平均特征值时会考虑所有客户。 对于每个客户在次要级别的流失预测，流失客户细分的派生取决于在侧窗格中选择的项目的次要级别。 例如，如果一个项目具有次要产品类别（办公用品），那么在派生流失客户细分的平均特征值时，将只考虑将办公用品作为产品类别的项目。 应用此逻辑是为了确保将项目的特征值与低、中和高流失客户细分的平均值进行公平比较。

  在有些情况下，低、中或高流失客户细分的平均值为空或不可用，因为根据上述定义，不存在属于相应流失客户细分的项目。

  对于国家/地区或行业等分类特征，对平均低、中和高列下的值的解释是不同的。 由于“平均”特征值的概念不适用于分类特征，因此这些列中的值是低、中或高流失客户细分中与侧面板中选择的项目相比具有相同分类特征值的客户比例。

---

 > [!NOTE]
 > 在此模型的输出实体中，*ChurnScore* 显示预测的流失概率，*IsChurn* 是基于 *ChurnScore* 的二进制标签，阈值为 0.5。 如果此默认阈值不适用于您的场景，使用您的首选阈值[创建新客户细分](segments.md#create-a-segment)。 并非所有客户都一定是活跃客户。 他们中的一些人可能很长一段时间没有活动，根据你的流失定义被认为是已经流失。 为已经流失的客户预测流失风险没有用处，因为他们不是受关注的访问群体。
>
> 要查看流失分数，转到 **数据** > **实体**，查看您为此模型定义的输出实体的数据选项卡。

[!INCLUDE [footer-include](includes/footer-banner.md)]
